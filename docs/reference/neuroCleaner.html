<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Clean and load data from NIFTI neuroimaging files — neuroCleaner • neuroSCC</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Clean and load data from NIFTI neuroimaging files — neuroCleaner"><meta name="description" content="Loads a NIFTI-format neuroimaging file, converts it to a structured data frame,
and organizes the data for further analysis. This function serves as the first step
in the neuroimaging data processing pipeline, transforming raw PET data into a format
suitable for functional data analysis. The neuroSCC package prepares and organizes neuroimaging
data, while the actual Simultaneous Confidence Corridors (SCCs) are computed using
functions from the ImageSCC package such as ImageSCC::scc1g.image or ImageSCC::scc2g.image."><meta property="og:description" content="Loads a NIFTI-format neuroimaging file, converts it to a structured data frame,
and organizes the data for further analysis. This function serves as the first step
in the neuroimaging data processing pipeline, transforming raw PET data into a format
suitable for functional data analysis. The neuroSCC package prepares and organizes neuroimaging
data, while the actual Simultaneous Confidence Corridors (SCCs) are computed using
functions from the ImageSCC package such as ImageSCC::scc1g.image or ImageSCC::scc2g.image."><meta property="og:image" content="https://iguanamarina.github.io/neuroSCC/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">neuroSCC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.17.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/iguanamarina/neuroSCC" aria-label="GitHub repository"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Clean and load data from NIFTI neuroimaging files</h1>
      <small class="dont-index">Source: <a href="https://github.com/iguanamarina/neuroSCC/blob/HEAD/R/neuroCleaner.R" class="external-link"><code>R/neuroCleaner.R</code></a></small>
      <div class="d-none name"><code>neuroCleaner.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Loads a NIFTI-format neuroimaging file, converts it to a structured data frame,
and organizes the data for further analysis. This function serves as the first step
in the neuroimaging data processing pipeline, transforming raw PET data into a format
suitable for functional data analysis. The neuroSCC package prepares and organizes neuroimaging
data, while the actual Simultaneous Confidence Corridors (SCCs) are computed using
functions from the ImageSCC package such as <code><a href="https://rdrr.io/pkg/ImageSCC/man/scc1g.image.html" class="external-link">ImageSCC::scc1g.image</a></code> or <code><a href="https://rdrr.io/pkg/ImageSCC/man/scc2g.image.html" class="external-link">ImageSCC::scc2g.image</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">neuroCleaner</span><span class="op">(</span><span class="va">name</span>, demo <span class="op">=</span> <span class="cn">NULL</span>, demoRow <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>A character string specifying the path to the NIFTI file.</p></dd>


<dt id="arg-demo">demo<a class="anchor" aria-label="anchor" href="#arg-demo"></a></dt>
<dd><p>An optional data frame containing demographic information for the participants.
If provided, it should contain columns that match (case-insensitive): 'PPT', 'Group', 'Sex', and 'Age'.
The 'PPT' column can contain participant IDs that match the <code>name</code> parameter for automatic matching,
but if no match is found, the row specified by <code>demoRow</code> will be used.
Default is <code>NULL</code>.</p></dd>


<dt id="arg-demorow">demoRow<a class="anchor" aria-label="anchor" href="#arg-demorow"></a></dt>
<dd><p>An integer specifying which row of the demographic data to use when
automatic matching fails or multiple matches are possible. Default is <code>1</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with the following columns:</p><ul><li><p>If demographic data provided: <code>PPT</code>, <code>Group</code>, <code>Sex</code>, <code>Age</code>, <code>z</code>, <code>x</code>, <code>y</code>, <code>pet</code></p></li>
<li><p>If no demographic data: <code>z</code>, <code>x</code>, <code>y</code>, <code>pet</code></p></li>
</ul><p>Each row represents a voxel (3D pixel) from the image, with <code>pet</code> containing the
  intensity value at that location.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function performs several key operations:</p>
<ol><li><p>Reads the NIFTI file using <code>oro.nifti</code> package functions.</p></li>
<li><p>Converts the 3D image data to a structured data frame.</p></li>
<li><p>Extracts the dimensional information (<code>z</code>, <code>x</code>, <code>y</code> coordinates).</p></li>
<li><p>Organizes the PET intensity values.</p></li>
<li><p>If demographic data is provided, merges it with the image data.</p></li>
</ol><p>The resulting data frame serves as input for subsequent analysis functions in the
<code>neuroSCC</code> pipeline, such as <code>databaseCreator</code> and <code>matrixCreator</code>, which prepare
the data for eventual analysis with the <code>ImageSCC</code> package functions.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="databaseCreator.html">databaseCreator</a></code> for creating databases from multiple NIFTI files.</p>
<p><code><a href="https://rdrr.io/pkg/oro.nifti/man/read_nifti.html" class="external-link">readNIfTI</a></code> for the underlying function used to read NIFTI files.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Get the file path for sample Control NIfTI file</span></span></span>
<span class="r-in"><span><span class="va">niftiFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"syntheticControl1.nii.gz"</span>, package <span class="op">=</span> <span class="st">"neuroSCC"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 1: Without demographic data</span></span></span>
<span class="r-in"><span><span class="va">petData</span> <span class="op">&lt;-</span> <span class="fu">neuroCleaner</span><span class="op">(</span><span class="va">niftiFile</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">petData</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">petData</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span>, <span class="op">]</span> <span class="co"># Show 10 random voxels</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         z  x   y pet</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 733492 74 87  31   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 509788 52 36 104   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 476381 49  3  51   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 873783 89  9  39   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 292075 30 41  64   6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 710662 72 59  91   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 652240 66 69  93   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 416645 43  1  47   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 372737 38 53  66   7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 728070 74 37  59   8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: With demographic data</span></span></span>
<span class="r-in"><span><span class="va">demoFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Demographics.csv"</span>, package <span class="op">=</span> <span class="st">"neuroSCC"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">demoData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">demoFile</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>, sep <span class="op">=</span> <span class="st">";"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">petDataWithDemo</span> <span class="op">&lt;-</span> <span class="fu">neuroCleaner</span><span class="op">(</span><span class="va">niftiFile</span>, demo <span class="op">=</span> <span class="va">demoData</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">petDataWithDemo</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">petDataWithDemo</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span>, <span class="op">]</span> <span class="co"># Show 10 random voxels</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      PPT Group Sex Age  z  x   y pet</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 790615 syntheticControl1    CN   M  73 80 65  38   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 178862 syntheticControl1    CN   M  73 19  3 102   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 787474 syntheticControl1    CN   M  73 80 36  58   3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 377992 syntheticControl1    CN   M  73 39 10  89   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 827832 syntheticControl1    CN   M  73 84 42  86   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 883405 syntheticControl1    CN   M  73 90  6  69   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 824259 syntheticControl1    CN   M  73 84 10   1   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 341496 syntheticControl1    CN   M  73 35 39 108   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 207252 syntheticControl1    CN   M  73 21 82  43   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 490932 syntheticControl1    CN   M  73 50 45 105   0</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Juan A. Arias Lopez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

