<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Clean and load data from NIFTI neuroimaging files — neuroCleaner • neuroSCC</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Clean and load data from NIFTI neuroimaging files — neuroCleaner"><meta property="og:description" content="Loads a NIFTI-format neuroimaging file, converts it to a structured data frame,
and organizes the data for further analysis. This function serves as the first step
in the neuroimaging data processing pipeline, transforming raw PET data into a format
suitable for functional data analysis. The neuroSCC package prepares and organizes neuroimaging
data, while the actual Simultaneous Confidence Corridors (SCCs) are computed using
functions from the ImageSCC package such as ImageSCC::scc1g.image or ImageSCC::scc2g.image."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">neuroSCC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.14.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/landing_vignette.html">landing_vignette</a>
    </li>
    <li>
      <a href="../articles/one_group_scc.html">one_group_scc</a>
    </li>
    <li>
      <a href="../articles/one_vs_group.html">one_vs_group</a>
    </li>
    <li>
      <a href="../articles/two_group_comparison.html">two_group_comparison</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/iguanamarina/neuroSCC/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Clean and load data from NIFTI neuroimaging files</h1>
    <small class="dont-index">Source: <a href="https://github.com/iguanamarina/neuroSCC/blob/HEAD/R/neuroCleaner.R" class="external-link"><code>R/neuroCleaner.R</code></a></small>
    <div class="hidden name"><code>neuroCleaner.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Loads a NIFTI-format neuroimaging file, converts it to a structured data frame,
and organizes the data for further analysis. This function serves as the first step
in the neuroimaging data processing pipeline, transforming raw PET data into a format
suitable for functional data analysis. The neuroSCC package prepares and organizes neuroimaging
data, while the actual Simultaneous Confidence Corridors (SCCs) are computed using
functions from the ImageSCC package such as <code><a href="https://rdrr.io/pkg/ImageSCC/man/scc1g.image.html" class="external-link">ImageSCC::scc1g.image</a></code> or <code><a href="https://rdrr.io/pkg/ImageSCC/man/scc2g.image.html" class="external-link">ImageSCC::scc2g.image</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">neuroCleaner</span><span class="op">(</span><span class="va">name</span>, demo <span class="op">=</span> <span class="cn">NULL</span>, demoRow <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>A character string specifying the path to the NIFTI file.</p></dd>


<dt id="arg-demo">demo<a class="anchor" aria-label="anchor" href="#arg-demo"></a></dt>
<dd><p>An optional data frame containing demographic information for the participants.
If provided, it should contain columns that match (case-insensitive): 'PPT', 'Group', 'Sex', and 'Age'.
The 'PPT' column can contain participant IDs that match the <code>name</code> parameter for automatic matching,
but if no match is found, the row specified by <code>demoRow</code> will be used.
Default is <code>NULL</code>.</p></dd>


<dt id="arg-demorow">demoRow<a class="anchor" aria-label="anchor" href="#arg-demorow"></a></dt>
<dd><p>An integer specifying which row of the demographic data to use when
automatic matching fails or multiple matches are possible. Default is <code>1</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data frame with the following columns:</p><ul><li><p>If demographic data provided: <code>PPT</code>, <code>Group</code>, <code>Sex</code>, <code>Age</code>, <code>z</code>, <code>x</code>, <code>y</code>, <code>pet</code></p></li>
<li><p>If no demographic data: <code>z</code>, <code>x</code>, <code>y</code>, <code>pet</code></p></li>
</ul><p>Each row represents a voxel (3D pixel) from the image, with <code>pet</code> containing the
  intensity value at that location.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The function performs several key operations:</p>
<ol><li><p>Reads the NIFTI file using <code>oro.nifti</code> package functions.</p></li>
<li><p>Converts the 3D image data to a structured data frame.</p></li>
<li><p>Extracts the dimensional information (<code>z</code>, <code>x</code>, <code>y</code> coordinates).</p></li>
<li><p>Organizes the PET intensity values.</p></li>
<li><p>If demographic data is provided, merges it with the image data.</p></li>
</ol><p>The resulting data frame serves as input for subsequent analysis functions in the
<code>neuroSCC</code> pipeline, such as <code>databaseCreator</code> and <code>matrixCreator</code>, which prepare
the data for eventual analysis with the <code>ImageSCC</code> package functions.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="databaseCreator.html">databaseCreator</a></code> for creating databases from multiple NIFTI files.</p>
<p><code><a href="https://rdrr.io/pkg/oro.nifti/man/read_nifti.html" class="external-link">readNIfTI</a></code> for the underlying function used to read NIFTI files.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Get the file path for sample Control NIfTI file</span></span></span>
<span class="r-in"><span><span class="va">niftiFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"syntheticControl1.nii.gz"</span>, package <span class="op">=</span> <span class="st">"neuroSCC"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 1: Without demographic data</span></span></span>
<span class="r-in"><span><span class="va">petData</span> <span class="op">&lt;-</span> <span class="fu">neuroCleaner</span><span class="op">(</span><span class="va">niftiFile</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">petData</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">petData</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span>, <span class="op">]</span> <span class="co"># Show 10 random voxels</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         z  x   y pet</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 733492 74 87  31   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 509788 52 36 104   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 476381 49  3  51   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 873783 89  9  39   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 292075 30 41  64   6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 710662 72 59  91   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 652240 66 69  93   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 416645 43  1  47   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 372737 38 53  66   7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 728070 74 37  59   8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: With demographic data</span></span></span>
<span class="r-in"><span><span class="va">demoFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Demographics.csv"</span>, package <span class="op">=</span> <span class="st">"neuroSCC"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">demoData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">demoFile</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>, sep <span class="op">=</span> <span class="st">";"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">petDataWithDemo</span> <span class="op">&lt;-</span> <span class="fu">neuroCleaner</span><span class="op">(</span><span class="va">niftiFile</span>, demo <span class="op">=</span> <span class="va">demoData</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">petDataWithDemo</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">petDataWithDemo</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span>, <span class="op">]</span> <span class="co"># Show 10 random voxels</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      PPT Group Sex Age  z  x   y pet</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 790615 syntheticControl1    CN   M  73 80 65  38   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 178862 syntheticControl1    CN   M  73 19  3 102   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 787474 syntheticControl1    CN   M  73 80 36  58   3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 377992 syntheticControl1    CN   M  73 39 10  89   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 827832 syntheticControl1    CN   M  73 84 42  86   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 883405 syntheticControl1    CN   M  73 90  6  69   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 824259 syntheticControl1    CN   M  73 84 10   1   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 341496 syntheticControl1    CN   M  73 35 39 108   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 207252 syntheticControl1    CN   M  73 21 82  43   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 490932 syntheticControl1    CN   M  73 50 45 105   0</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Juan A. Arias Lopez.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

