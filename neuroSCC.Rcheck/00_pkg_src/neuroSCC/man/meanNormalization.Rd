% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/meanNormalization.R
\name{meanNormalization}
\alias{meanNormalization}
\title{Mean Average Normalization for Matrix Data}
\usage{
meanNormalization(
  matrixData,
  handleInvalidRows = c("warn", "error", "omit"),
  returnDetails = FALSE,
  quiet = FALSE
)
}
\arguments{
\item{matrixData}{\code{matrix}, a matrix where each row represents data
that needs to be normalized, typically the output from \code{\link{matrixCreator}}.}

\item{handleInvalidRows}{\code{character}, specifies how to handle rows with invalid means
(zero or NA). Options are:
\code{"warn"} (default) warns and leaves row unnormalized,
\code{"error"} stops with an error, or
\code{"omit"} removes problematic rows from the result.}

\item{returnDetails}{\code{logical}, if \code{TRUE}, returns a list containing the normalized
matrix and additional diagnostic information. If \code{FALSE} (default), returns
only the normalized matrix.}

\item{quiet}{\code{logical}, if \code{TRUE}, suppresses console messages. Default is \code{FALSE}.}
}
\value{
A matrix where each row has been normalized by its mean value.
}
\description{
This function normalizes each row of the given matrix by its mean value.
It divides each element in a row by the mean of that row, ignoring NA values.
This normalization is a critical pre-processing step when comparing data
from multiple sources to account for global intensity differences.
}
\details{
The function iterates over each row of the input matrix, calculates the mean of the row,
and then divides each element of the row by the calculated mean. This process adjusts
for global intensity differences between rows in the matrix.
}
\examples{
# Generate a database and create a matrix
dataDir <- system.file("extdata", package = "neuroSCC")
controlPattern <- "^syntheticControl.*\\\\.nii.gz$"
databaseControls <- databaseCreator(pattern = controlPattern, control = TRUE, quiet = TRUE)
matrixControls <- matrixCreator(databaseControls, paramZ = 35, quiet = TRUE)

# Normalize the matrix with detailed output
normalizationResult <- meanNormalization(matrixControls, returnDetails = TRUE, quiet = FALSE)
# Show problematic rows if any
if (length(normalizationResult$problemRows) == 0) {
  cat("No problematic rows detected.\n")
} else {
  print(normalizationResult$problemRows)
}

}
\seealso{
\code{\link{matrixCreator}} for creating the data matrix to be normalized.
}
