% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculateMetrics.R
\name{calculateMetrics}
\alias{calculateMetrics}
\title{Evaluate SCC or SPM Detection Performance}
\usage{
calculateMetrics(detectedPoints, truePoints, totalCoords, regionName)
}
\arguments{
\item{detectedPoints}{A data frame containing detected coordinates (\code{x}, \code{y}).
\itemize{
  \item SCC-detected points should be obtained using \code{\link{getPoints}}.
  \item SPM-detected points should be obtained using \code{\link{getSPMbinary}}.
}}

\item{truePoints}{A data frame with ground truth ROI coordinates (\code{x}, \code{y}),
extracted via \code{\link{processROIs}}.}

\item{totalCoords}{A list with the full voxel grid dimensions, created by \code{\link{getDimensions}}.
Must include named elements \code{xDim} and \code{yDim}.}

\item{regionName}{A character string used to label the output region.}
}
\value{
A data frame with the following evaluation metrics:
\itemize{
  \item \code{region}: Name of the analyzed region.
  \item \code{sensitivity}: True positive rate (TP / (TP + FN) * 100).
  \item \code{specificity}: True negative rate (TN / (TN + FP) * 100).
  \item \code{PPV}: Positive predictive value (TP / (TP + FP) * 100).
  \item \code{NPV}: Negative predictive value (TN / (TN + FN) * 100).
}
}
\description{
Computes Sensitivity, Specificity, Positive Predictive Value (PPV), and Negative Predictive Value (NPV)
by comparing detected points with ground truth ROI points. This function is used to assess
the accuracy of SCC- or SPM-based detection in neuroimaging analysis.
}
\details{
This function requires three precomputed objects:
\itemize{
  \item \code{detectedPoints}: From \code{\link{getPoints}} (SCC) or \code{\link{getSPMbinary}} (SPM).
  \item \code{truePoints}: From \code{\link{processROIs}}, representing ground truth ROIs.
  \item \code{totalCoords}: From \code{\link{getDimensions}}, providing the full voxel grid.
}
}
\examples{
# Extract SCC-detected points
detectedSCC <- getPoints(SCCcomp)$positivePoints

# Extract SPM-detected points
spmFile <- system.file("extdata", "binary.nii.gz", package = "neuroSCC")
detectedSPM <- getSPMbinary(spmFile, paramZ = 35)

# Load true ROI points
roiFile <- system.file("extdata", "ROIsample_Region2_18.nii.gz", package = "neuroSCC")
trueROI <- processROIs(roiFile, region = "Region2", number = "18", save = FALSE)

# Get full coordinate grid
totalCoords <- getDimensions(roiFile)

# Evaluate SCC detection
metricsSCC <- calculateMetrics(detectedSCC, trueROI, totalCoords, "Region2_SCC")

# Evaluate SPM detection
metricsSPM <- calculateMetrics(detectedSPM, trueROI, totalCoords, "Region2_SPM")

print(metricsSCC)
print(metricsSPM)

}
\seealso{
\code{\link{getPoints}} for SCC-detected regions. \cr
\code{\link{getSPMbinary}} for binary SPM-detected points. \cr
\code{\link{processROIs}} for defining ground truth ROIs. \cr
\code{\link{getDimensions}} for generating the coordinate grid.
}
