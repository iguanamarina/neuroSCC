% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculateMetrics.R
\name{calculateMetrics}
\alias{calculateMetrics}
\title{Evaluate SCC or SPM Detection Performance}
\usage{
calculateMetrics(detectedPoints, truePoints, totalCoords, regionName)
}
\arguments{
\item{detectedPoints}{A data frame containing SCC- or SPM-detected points (\code{x}, \code{y}).
\itemize{
  \item SCC-detected points should come from \code{\link{getPoints}}.
  \item SPM-detected points should come from \code{\link{getSPMbinary}}.
}}

\item{truePoints}{A data frame containing ground truth ROI points (\code{x}, \code{y}),
obtained using \code{\link{processROIs}}.}

\item{totalCoords}{A data frame containing all possible voxel coordinates (\code{x}, \code{y}),
obtained using \code{\link{getDimensions}}.}

\item{regionName}{A character string used for labeling the results.}
}
\value{
A data frame with the following evaluation metrics:
\itemize{
  \item \code{region}: The analyzed region.
  \item \code{sensitivity}: True positive rate (TP / (TP + FN) * 100).
  \item \code{specificity}: True negative rate (TN / (TN + FP) * 100).
  \item \code{PPV}: Positive Predictive Value (TP / (TP + FP) * 100).
  \item \code{NPV}: Negative Predictive Value (TN / (TN + FN) * 100).
}
}
\description{
Computes Sensitivity, Specificity, Positive Predictive Value (PPV), and Negative Predictive Value (NPV)
for detected points compared to ground truth ROI points. This function is used to evaluate
SCC-based and SPM-based detection accuracy in neuroimaging analysis.
}
\details{
The user must precompute the following objects before calling this function:
\itemize{
  \item \code{detectedPoints}: Extracted using \code{\link{getPoints}} (for SCC) or \code{\link{getSPMbinary}} (for SPM).
  \item \code{truePoints}: Extracted using \code{\link{processROIs}}, representing ground truth ROIs.
  \item \code{totalCoords}: Generated using \code{\link{getDimensions}}, providing the full voxel grid.
}
}
\examples{
# Extract detected SCC points
detectedSCC <- getPoints(SCCcomp)$positivePoints

# Extract detected SPM points
spmFile <- system.file("extdata", "binary.nii", package = "neuroSCC")
detectedSPM <- getSPMbinary(spmFile, paramZ = 35)

# Extract true ROI points
roiFile <- system.file("extdata", "ROIsample_Region2_18.nii", package = "neuroSCC")
trueROI <- processROIs(roiFile, region = "Region2", number = "18", save = FALSE)

# Generate totalCoords from getDimensions()
totalCoords <- getDimensions(roiFile)

# Compute SCC detection performance
metricsSCC <- calculateMetrics(detectedSCC, trueROI, totalCoords, "Region2_SCC")

# Compute SPM detection performance
metricsSPM <- calculateMetrics(detectedSPM, trueROI, totalCoords, "Region2_SPM")

# Print both results
print(metricsSCC)
print(metricsSPM)

}
\seealso{
\code{\link{getPoints}} for SCC-based detection points.
\code{\link{getSPMbinary}} for extracting SPM-detected points.
\code{\link{processROIs}} for ground truth ROI extraction.
\code{\link{getDimensions}} for obtaining the full coordinate grid.
}
