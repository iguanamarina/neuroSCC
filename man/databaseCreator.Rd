% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/databaseCreator.R
\name{databaseCreator}
\alias{databaseCreator}
\title{Create a Database of Processed PET Image Data}
\usage{
databaseCreator(
  pattern,
  control = TRUE,
  useSequentialNumbering = FALSE,
  demo = NULL,
  quiet = FALSE
)
}
\arguments{
\item{pattern}{\code{character}. A regular expression defining the file pattern to match.
Subject identifiers are extracted from filenames based on this pattern.}

\item{control}{\code{logical}. If \code{TRUE}, files are treated as control group data;
if \code{FALSE}, as pathological group data. Default is \code{TRUE}.}

\item{useSequentialNumbering}{\code{logical}. If \code{TRUE}, assigns sequential subject numbers
instead of extracting them from filenames. Default is \code{FALSE}.}

\item{demo}{\code{data.frame}, optional. If provided, demographic information is included for each file.
Default is \code{NULL}.}

\item{quiet}{\code{logical}. If \code{TRUE}, suppresses progress messages. Default is \code{FALSE}.}
}
\value{
A \code{data.frame} combining processed voxel-level data from all matched files.
        Each row represents a voxel (3D pixel), with the following structure:
        \itemize{
          \item Control group: \code{CN_number}, \code{z}, \code{x}, \code{y}, \code{pet}
          \item Pathological group: \code{AD_number}, \code{z}, \code{x}, \code{y}, \code{pet}
          \item With demographics: Additional columns such as \code{PPT}, \code{Group}, \code{Sex}, \code{Age}
        }
}
\description{
Processes multiple PET image files matching a specified filename pattern.
Each file is processed using \code{\link{neuroCleaner}}, and the results are aggregated
into a unified data frame for functional data analysis. This function serves as a key step
in the \code{neuroSCC} workflow, bridging raw image data and Simultaneous Confidence Corridors (SCC) computation.
}
\details{
The function performs the following steps:
\enumerate{
  \item Identifies image files matching the given pattern.
  \item Processes each file using \code{\link{neuroCleaner}}, optionally merging demographic data.
  \item Adds a subject identifier column (\code{CN_number} or \code{AD_number}).
  \item Aggregates all results into a single data frame.
}

If no files are successfully processed, an empty data frame is returned with a warning.

This function is typically followed by \code{\link{matrixCreator}}, which converts the output
into a matrix format for functional analysis.
}
\examples{
# Get the file path for sample data
dataDir <- system.file("extdata", package = "neuroSCC")

# Example 1: Create database for Controls
controlPattern <- "^syntheticControl.*\\\\.nii.gz$"
databaseControls <- databaseCreator(pattern = controlPattern, control = TRUE, quiet = TRUE)
head(databaseControls); tail(databaseControls)
nrow(databaseControls)  # Total number of rows
unique(databaseControls$CN_number)  # Show unique subjects

# Example 2: Create database for Pathological group
pathologicalPattern <- "^syntheticPathological.*\\\\.nii.gz$"
databasePathological <- databaseCreator(pattern = pathologicalPattern,
                                        control = FALSE,
                                        quiet = TRUE)
head(databasePathological); tail(databasePathological)
nrow(databasePathological)  # Total number of rows
unique(databasePathological$AD_number)  # Show unique subjects

}
\seealso{
\code{\link{neuroCleaner}} for the underlying image processing function.

\code{\link{matrixCreator}} for the next step in the workflow that converts
the database to a matrix format for SCC analysis.
}
