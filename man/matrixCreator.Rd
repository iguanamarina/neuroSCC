% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/matrixCreator.R
\name{matrixCreator}
\alias{matrixCreator}
\title{Convert database from PET image data to a functional data matrix format}
\usage{
matrixCreator(
  database,
  paramZ = 35,
  useSequentialNumbering = FALSE,
  quiet = FALSE
)
}
\arguments{
\item{database}{A data frame created by \code{\link{databaseCreator}} containing
PET image data with columns for subject number, z, x, y, and pet values.}

\item{paramZ}{The specific z-coordinate slice to analyze. Default is 35.}

\item{useSequentialNumbering}{If \code{TRUE}, assigns sequential numbers
instead of extracting from filenames.}

\item{quiet}{If \code{TRUE}, suppresses progress messages.}
}
\value{
A matrix where each row represents the PET data from one subject,
        formatted as a continuous line of data points.
}
\description{
This function transforms a database created by \code{\link{databaseCreator}} into
a matrix format suitable for functional data analysis. Each row of the matrix
represents a subject's PET data, formatted as a continuous line of data points.
}
\details{
The function performs several operations:

\enumerate{
  \item Verifies that the specified z-slice exists in the database.
  \item Automatically calculates matrix dimensions based on x and y coordinates.
  \item Extracts PET intensity values for each subject at the specified z-slice.
  \item Handles both control and pathological groups by recognizing subject identifiers.
  \item Replaces any NaN values with zero to ensure matrix compatibility.
}

Typically follows \code{\link{databaseCreator}} and precedes
\code{\link{meanNormalization}} in the neuroSCC pipeline.
}
\examples{
# Generate a database using neuroCleaner and databaseCreator
dataDir <- system.file("extdata", package = "neuroSCC")
controlPattern <- "^syntheticControl.*\\\\.nii.gz$"
databaseControls <- databaseCreator(pattern = controlPattern, control = TRUE, quiet = FALSE)

# Convert the database into a matrix format
matrixControls <- matrixCreator(databaseControls, paramZ = 35, quiet = FALSE)
dim(matrixControls)  # Show matrix dimensions

}
\seealso{
\code{\link{databaseCreator}} for creating the input database.
\code{\link{meanNormalization}} for normalizing PET intensity values.
}
